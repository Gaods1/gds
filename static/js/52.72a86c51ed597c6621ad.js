webpackJsonp([52],{ErsD:function(t,e,r){"use strict";r.d(e,"b",function(){return s}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return i}),r.d(e,"a",function(){return c});var a=r("pxwZ"),n="/consult/consult_info/",s=function(t,e){return Object(a.c)(n+t+"/",e)},o=function(t){return Object(a.b)(n,t)},i=function(t){return Object(a.b)(n+t+"/")},c=function(t){return Object(a.a)(n+t+"/")}},iEFD:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("WQC0"),n=(r("8V1Y"),r("ErsD")),s={components:{detailModel:a.a},data:function(){var t=this;return{state_arr:{0:"待审核",1:"通过",2:"未通过",3:"发起者放弃",5:"草稿"},formData:{},idetntForm:{check_state:!1,check_memo:""},identState:!1,rules:{check_memo:[{required:!0,message:"该项是必填项",trigger:"blur"}]},formOptions:{labelWidth:"160px"},formItems:[{prop:"consult_title",text:"征询标题",label:"征询标题",type:"input"},{prop:"account",text:"征询账号",label:"征询账号",type:"input"},{prop:"consult_state",text:"征询状态",label:"征询状态",type:"input",formatter:function(e,r){return t.state_arr[r[e]]}},{prop:"rr",text:"成果需求",label:"成果需求",type:"input",formatter:function(t,e){return Array(e[t]).join()}},{prop:"consult_time",text:"发起时间",label:"发起时间",type:"input"},{prop:"consult_endtime",text:"结束时间",label:"结束时间",type:"input"},{prop:"cover_img",text:"征询图标",label:"征询图标",type:"input",render:function(t,e){return t("div",{style:{display:"inline-block"},class:"idfront-box"},[t("img",{attrs:{src:e.value.cover_img}})])}},{prop:"consult_memo",text:"征询简述",label:"征询简述",type:"input",formatter:function(t,e){return e[t]}},{prop:"consult_body",text:"征询详情",label:"征询详情",type:"input",width:"100%",formatter:function(t,e){return e[t]}}]}},created:function(){this.getDetail()},methods:{handleIdent:function(){var t=this,e="";if(this.$refs.formData.validate(function(r,a){r?e=!0:(t.$message({type:"error",message:"表单验证失败"}),e=!1)}),!e)return!1;var r={};r.check_state=parseInt(this.idetntForm.check_state),r.check_memo=this.idetntForm.check_memo,r.type="check",Object(n.b)(this.$route.query.serial,r).then(function(e){1==e.state?(t.$message({type:"success",message:e.msg}),t.$router.push({path:"/consult_check"})):t.$message({type:"error",message:e.msg})})},initSelect:function(){},getDetail:function(){var t=this;Object(n.d)(this.$route.query.serial).then(function(e){if(e.detail)return t.$message.error(e.detail),!1;t.formData=e,t.idetntForm.check_state=0!=String(e.consult_state)?String(e.consult_state):"2",t.idetntForm.check_memo=e.check_memo,0!=e.consult_state&&(t.identState=!0)}).catch(function(t){this.$message.error(t)})}}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detai-box"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header",id:"consult_title"},slot:"header"},[r("span",[t._v(t._s(t.formData.consult_title+"-")+"详情")])]),t._v(" "),r("div",{staticClass:"detail-list-box"},[r("detailModel",{attrs:{formData:t.formData,formItems:t.formItems}})],1)]),t._v(" "),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("审批意见栏")])]),t._v(" "),r("div",[r("div",{staticClass:"warper-box"},[r("el-form",{ref:"formData",attrs:{model:t.idetntForm,"label-width":"100px",disabled:t.identState,rules:t.rules}},[r("el-form-item",{attrs:{label:"审核结果",prop:"check_state"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","inactive-value":"2","active-value":"1","active-text":"通过","inactive-text":"未通过"},model:{value:t.idetntForm.check_state,callback:function(e){t.$set(t.idetntForm,"check_state",e)},expression:"idetntForm.check_state"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"审核意见",prop:"check_memo"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请填写审批意见",rows:"6"},model:{value:t.idetntForm.check_memo,callback:function(e){t.$set(t.idetntForm,"check_memo",e)},expression:"idetntForm.check_memo"}})],1),t._v(" "),r("el-button",{staticClass:"button",attrs:{type:"info"}},[t._v("返回")]),t._v(" "),r("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.handleIdent}},[t._v("提交")])],1)],1)])])],1)},staticRenderFns:[]};var i=r("C7Lr")(s,o,!1,function(t){r("mzKC")},"data-v-edf4b186",null);e.default=i.exports},mzKC:function(t,e){}});